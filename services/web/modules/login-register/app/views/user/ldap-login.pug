extends ../../../../../app/views/layout-marketing

block vars
	- isWebsiteRedesign = true

block content
	main#main-content.content.content-alt
		.container
			.row
				.col-lg-6.offset-lg-3.col-xl-4.offset-xl-4
					.card
						.card-body
							.page-header
								if login_support_title
									h1 !{login_support_title}
								else
									h1.h3 #{translate("log_in")} LDAP
							.login-register-hr-text-container(style='margin-top: 1px; padding: 5px 0;')
							form(name='loginForm' data-ol-async-form action='/ldap/login' method='POST')
								input(name='_csrf' type='hidden' value=csrfToken)
								+formMessagesNewStyle
								+customFormMessageNewStyle('invalid-password-retry-or-reset', 'danger')
									| !{translate('email_or_password_wrong_try_again_or_reset', {}, [{ name: 'a', attrs: { href: '/user/password/reset', 'aria-describedby': 'resetPasswordDescription' } }])}
									span.visually-hidden(id='resetPasswordDescription')
										| #{translate('reset_password_link')}
								+customFormMessageNewStyle('password-compromised')
									| !{translate('password_compromised_try_again_or_use_known_device_or_reset', {}, [{name: 'a', attrs: {href: 'https://haveibeenpwned.com/passwords', rel: 'noopener noreferrer', target: '_blank'}}, {name: 'a', attrs: {href: '/user/password/reset', target: '_blank'}}])}.
								.form-group
									label(for='login') #{(settings.ldap && settings.ldap.placeholder) ? settings.ldap.placeholder : 'LDAP Username'}
									input#login.form-control(
										name='login'
										type='text'
										required
										placeholder=(settings.ldap && settings.ldap.placeholder) ? settings.ldap.placeholder : 'LDAP Username'
										autofocus='true'
										autocomplete='username'
									)
								.form-group
									label(for='password') #{translate("password")}
									input#password.form-control(
										name='password'
										type='password'
										autocomplete='current-password'
										required
                                        placeholder='********'
									)
								.actions
									button.btn-primary.btn(type='submit' data-ol-disabled-inflight)
										span(data-ol-inflight='idle') #{translate("login")}
										span(hidden data-ol-inflight='pending') #{translate("logging_in")}…
								if login_support_text
									hr
									p.text-center !{login_support_text}
							if (settings.saml && settings.saml.enable) || (settings.oidc && settings.oidc.enable)
								p.ciam-login-register-or-text-container
									span.ciam-login-register-or-text #{translate("or")}
							if settings.saml && settings.saml.enable
								.actions(style='margin-top: 15px;')
									a.button.btn-secondary.btn(
									href='/saml/login',
										style="width: 100%;"
										data-ol-disabled-inflight
									)
										span(data-ol-inflight="idle") #{settings.saml.identityServiceName}
										span(hidden data-ol-inflight="pending") #{translate("logging_in")}…
							if settings.oidc && settings.oidc.enable
								.actions(style='margin-top: 15px;')
									a.button.btn-secondary.btn(
										href='/oidc/login',
										style="width: 100%;"
										data-ol-disabled-inflight
									)
										span(data-ol-inflight="idle") #{settings.oidc.identityServiceName}
										span(hidden data-ol-inflight="pending") #{translate("logging_in")}…